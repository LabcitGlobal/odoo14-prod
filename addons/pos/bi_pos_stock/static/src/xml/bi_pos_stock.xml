<?xml version="1.0" encoding="UTF-8"?>
	<templates id="bi_pos_stock_template" inherit_id="point_of_sale.template" xml:space="preserve">
		
		<t t-name="SyncStock" owl="1">
			<div class="oe_status">
				<span class="pos-stock-sync" style="padding-right: 30px;" t-on-click="pos_stock_sync">
					Sync
					<i class="fa fa-refresh " style='font-size: 28px;position: absolute;margin-left: 1%;color: #5db937;'/>
				</span>
			</div>
		</t>
		
		<t t-name="Chrome" t-inherit="point_of_sale.Chrome" t-inherit-mode="extension" owl="1">
			<xpath expr="//div[hasclass('search-bar-portal')]" position="after">
				<SyncStock t-if="is_stock_sync"/>
			</xpath>
		</t>

		<t t-name="ProductItem" t-inherit="point_of_sale.ProductItem" t-inherit-mode="extension" owl="1">						
			<xpath expr="//div[hasclass('product-img')]" position="inside">
				<t t-set="lc_qty" t-value="0"/>
				<t t-if="env.pos.config.pos_display_stock">
					<t t-if="env.pos.config.pos_stock_type == 'onhand'">
						<span t-attf-class="quantity-count {{props.product.bi_on_hand lte 0 ? 'warn' : 'normal'}}" class="price-tag" id="stockqty" style="right: 90px;">
							<t t-esc="props.product.bi_on_hand"/>
							<t t-set="lc_qty" t-value="props.product.bi_on_hand"/>
						</span>
					</t>
					<t t-if="env.pos.config.pos_stock_type == 'incoming'">
						<span t-attf-class="quantity-count {{props.product.incoming_qty lte 0 ? 'warn' : 'normal'}}" class="price-tag" style="right: 90px;">
							<t t-esc="props.product.incoming_qty"/>							
						</span>
					</t>
					<t t-if="env.pos.config.pos_stock_type == 'outgoing'">
						<span t-attf-class="quantity-count {{props.product.outgoing_qty lte 0 ? 'warn' : 'normal'}}" class="price-tag" style="right: 90px;">
							<t t-esc="props.product.outgoing_qty"/>							
						</span>
					</t>
					<t t-if="env.pos.config.pos_stock_type == 'available'">
						<span t-attf-class="quantity-count {{props.product.bi_available lte 0 ? 'warn' : 'normal'}}" class="price-tag" id="availqty" style="right: 90px;">
							<t t-if="env.pos.config.show_stock_location == 'specific'">
								<t t-esc="props.product.bi_available"/>								
							</t>
							<t t-if="env.pos.config.show_stock_location == 'all'">
								<t t-esc="props.product.virtual_available"/>
							</t>
						</span>
					</t>
				</t>
			</xpath>
			<xpath expr="//div[hasclass('product-img')]" position="before">			
				<t t-set="lc_qty" t-value="0"/>
        	    <t t-if="(env.pos.config.pos_display_stock and props.product.type == 'product' and (env.pos.config.pos_allow_order == false) and env.pos.config.pos_overlay_order and props.product.bi_on_hand lte 0)">
        	        <div class="overlay">
        	            <t t-esc="addOverlay()"><span class="text">Out of Stock</span></t>
        	        </div>
        	    </t>
        	</xpath>
		</t> 
		
	</templates>
	
	
